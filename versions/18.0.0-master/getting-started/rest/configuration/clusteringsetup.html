<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>Clustering | </title><meta property="og:title" content="Clustering" />
<meta property="og:description" content="Set up clustering within your Nuix REST environment to distribute your processing workload.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/getting-started/rest/configuration/clusteringsetup.html" />
<meta property="article:published_time" content="2021-02-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-02-23T00:00:00+00:00" />
<meta itemprop="name" content="Clustering">
<meta itemprop="description" content="Set up clustering within your Nuix REST environment to distribute your processing workload.
">
<meta itemprop="datePublished" content="2021-02-23T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-02-23T00:00:00+00:00" />
<meta itemprop="wordCount" content="1528">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Clustering"/>
<meta name="twitter:description" content="Set up clustering within your Nuix REST environment to distribute your processing workload.
"/>





<link rel="preload" href="../../../scss/main.min.83b6c00985b3107d4adc1d26018be0c01cbab3d0a8b254fa28cfe1c1cd3a6808.css" as="style">
<link href="../../../scss/main.min.83b6c00985b3107d4adc1d26018be0c01cbab3d0a8b254fa28cfe1c1cd3a6808.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



  <title>Clustering | </title>
</head>
<body class="td-page">
<header>
  
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../">
		<span class="navbar-logo"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 354.78 112.16"><defs><style>.cls-1{fill:#fff}</style></defs><path class="cls-1" d="M347 183.9l15.09 23.39s10.15-13.53 14.12-19.6c7.15-10.93 16.95-7.85 16.95-7.85l-24.12 34.75 22.17 32.8H378.11L362.3 222.52l-16.46 24.87H333.12L355.68 215 334.16 183.9z" transform="translate(-38.4 -159.55)"/><path class="cls-1" d="M117.77 188.44A51.43 51.43.0 00106 165.22l-4.12-4.65h-.08c-.5-.07-1-.1-1.53-.16-.79-.08-1.57-.18-2.37-.23-.55.0-1.1.0-1.65-.06-.76.0-1.51-.07-2.27-.07s-1.52.05-2.28.08c-.57.0-1.15.0-1.73.07-.79.06-1.59.17-2.38.26-.54.07-1.08.1-1.62.18-.86.13-1.72.31-2.58.48-.47.09-.93.16-1.4.26-1.31.29-2.63.64-3.93 1a55.81 55.81.0 00-30.35 84.35l6 1.71a51 51 0 0026.41.39l.36-.1a55.69 55.69.0 0137.32-59.92C117.81 188.69 117.8 188.57 117.77 188.44z" transform="translate(-38.4 -159.55)"/><path class="cls-1" d="M147.74 199.68a56.38 56.38.0 00-6.15-13.61 54.88 54.88.0 00-23.84-20.86 56.53 56.53.0 00-8.23-3.06h0a56 56 0 0112.8 25.32h0c.32 1.52.57 3.05.77 4.6A55.73 55.73.0 0185.76 252c-1.47.51-3 1-4.47 1.35h0l-.75.16c-.89.21-1.77.42-2.67.59h0l-.9.14h-.24.0l-.91.14-1.38.21h0-.15c-.41.05-.83.07-1.25.11h0c-.53.05-1.07.12-1.61.15h-.48-.33-1.17.0c-.57.0-1.14.05-1.71.05h-.3c-.47.0-.93.0-1.4-.05h-.73-.58-1 0c-.74-.06-1.48-.15-2.21-.23h-.06l-.58-.06-.87-.1h0c-.82-.11-1.63-.27-2.45-.43h0l-1.23-.22h0c-.75-.16-1.49-.36-2.24-.55l-.91-.23L52.7 253h-.18.0a57.15 57.15.0 0036.17 18.52c.91.09 1.82.16 2.74.21.31.0.62.0.93.0.61.0 1.22.0 1.84.0h.46c1.06.0 2.12-.05 3.18-.11l.92-.07c1.19-.09 2.38-.21 3.58-.39h.25c1.12-.17 2.25-.38 3.37-.62l.92-.21c1.2-.28 2.41-.58 3.6-.94A55.86 55.86.0 00147.74 199.68z" transform="translate(-38.4 -159.55)"/><rect class="cls-1" x="271.55" y="24.35" width="11.54" height="63.49"/><path class="cls-1" d="M322 166a6.43 6.43.0 11-6.43-6.43A6.42 6.42.0 01322 166" transform="translate(-38.4 -159.55)"/><path class="cls-1" d="M298.08 247.47a11.38 11.38.0 01-10.69-10.18h-.26a23.26 23.26.0 01-20.6 11.59c-9.78.0-21.51-5.53-21.51-27.29V183.85h11.33v35.67c0 11.85 3.75 20 13.91 20a16.28 16.28.0 0014.94-10.43 15.56 15.56.0 001-5.79V183.85h11.84z" transform="translate(-38.4 -159.55)"/><path class="cls-1" d="M180.29 183.77A11.37 11.37.0 01191 194h.26a23.26 23.26.0 0120.6-11.59c9.78.0 21.51 5.53 21.51 27.29v37.74H222V211.71c0-11.84-3.75-20-13.91-20a16.29 16.29.0 00-14.94 10.43 15.57 15.57.0 00-1 5.79v39.41H180.29z" transform="translate(-38.4 -159.55)"/></svg></span><span class="text-uppercase font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="../../../" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.3d20bf89da76272395c7eb921738bd9ba89984b9dd2e37ab1e47ba1fde63195bc680aedd164475e23b92ffbcf1c4d415622d6f4c8586715a16f03f57e576efef.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

</header>
<div class="container-fluid td-outer">
  <div class="td-main">
    <div class="row flex-xl-nowrap">
      <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
        




<div id="td-sidebar-menu" class="td-sidebar__inner">
    
    <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
        
        






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
    </li>
    <ul>
        <li class="collapse show" id="">
            
            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../overview.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
    </li>
    <ul>
        <li class="collapse " id="overviewhtml">
            
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Getting Started</a>
    </li>
    <ul>
        <li class="collapse show" id="getting-startedhtml">
            
            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Nuix REST SDK</a>
    </li>
    <ul>
        <li class="collapse show" id="getting-startedresthtml">
            
            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/installation.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestinstallationhtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestinstallationwindowshtml" href="../../../getting-started/rest/installation/windows.html">Windows</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestinstallationlinuxhtml" href="../../../getting-started/rest/installation/linux.html">Linux</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestinstallationdockerhtml" href="../../../getting-started/rest/installation/docker.html">Docker</a>
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/configuration.html" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Configuration</a>
    </li>
    <ul>
        <li class="collapse show" id="getting-startedrestconfigurationhtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestconfigurationlicenseconfigurationhtml" href="../../../getting-started/rest/configuration/licenseconfiguration.html">Licensing</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page  active" id="m-getting-startedrestconfigurationclusteringsetuphtml" href="../../../getting-started/rest/configuration/clusteringsetup.html">Clustering</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestconfigurationunifiedlogginghtml" href="../../../getting-started/rest/configuration/unifiedlogging.html">Unified Logging</a>
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/quick_start.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quick Start</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestquick_starthtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestquick_startenvironmentsetuphtml" href="../../../getting-started/rest/quick_start/environmentsetup.html">Environment Setup</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestquick_startcheckingserverstatushtml" href="../../../getting-started/rest/quick_start/checkingserverstatus.html">Server Status</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestquick_startlicensemanagementhtml" href="../../../getting-started/rest/quick_start/licensemanagement.html">License Management</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestquick_startinventorymanagementhtml" href="../../../getting-started/rest/quick_start/inventorymanagement.html">Inventory Management</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestquick_startprocessingdatahtml" href="../../../getting-started/rest/quick_start/processingdata.html">Processing Data</a>
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/introduction.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestintroductionhtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionabouthtml" href="../../../getting-started/rest/introduction/about.html">Part 1: Verifying your Installation</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionlicenseverificationhtml" href="../../../getting-started/rest/introduction/licenseverification.html">Part 2: Verifying your Licenses</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionauthenticationhtml" href="../../../getting-started/rest/introduction/authentication.html">Part 3: Authentication</a>
            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/introduction/case_creation.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Part 4: Case Creation</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestintroductioncase_creationhtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductioncase_creationcasecreationhtml" href="../../../getting-started/rest/introduction/case_creation/casecreation.html">Simple Case Creation</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductioncase_creationcompoundcasecreationhtml" href="../../../getting-started/rest/introduction/case_creation/compoundcasecreation.html">Compound Case Creation</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductioncase_creationelasticcasecreationhtml" href="../../../getting-started/rest/introduction/case_creation/elasticcasecreation.html">Elastic Case Creation</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductioncase_creationelasticcompoundcasecreationhtml" href="../../../getting-started/rest/introduction/case_creation/elasticcompoundcasecreation.html">Compound Elastic Case Creation</a>
            
            
        </li>
    </ul>
</ul>

            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionfileingestionhtml" href="../../../getting-started/rest/introduction/fileingestion.html">Part 5: Ingestion</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionsearchhtml" href="../../../getting-started/rest/introduction/search.html">Part 6: Search</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionexclusionshtml" href="../../../getting-started/rest/introduction/exclusions.html">Part 7: Exclusions</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionitemsetshtml" href="../../../getting-started/rest/introduction/itemsets.html">Part 8: Item Sets and Deduplication</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionocrhtml" href="../../../getting-started/rest/introduction/ocr.html">Part 9: OCR</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductiontagginghtml" href="../../../getting-started/rest/introduction/tagging.html">Part 10: Tagging</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionproductionsethtml" href="../../../getting-started/rest/introduction/productionset.html">Part 11: Production Sets</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductioncasesubsethtml" href="../../../getting-started/rest/introduction/casesubset.html">Part 12: Case Subset</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionexporthtml" href="../../../getting-started/rest/introduction/export.html">Part 13: Exports</a>
            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/introduction/clustering.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Part 14: Clustering</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestintroductionclusteringhtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionclusteringviewclusterhtml" href="../../../getting-started/rest/introduction/clustering/viewcluster.html">Viewing the Cluster</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestintroductionclusteringsteeringhtml" href="../../../getting-started/rest/introduction/clustering/steering.html">Node Steering</a>
            
            
        </li>
    </ul>
</ul>

            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../getting-started/rest/scripting.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">User Scripts</a>
    </li>
    <ul>
        <li class="collapse " id="getting-startedrestscriptinghtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestscriptingintroductionhtml" href="../../../getting-started/rest/scripting/introduction.html">Introduction</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestscriptingelasticsearchcasesubsethtml" href="../../../getting-started/rest/scripting/elasticsearchcasesubset.html">Elasticsearch Case Subset</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestscriptingtagginghtml" href="../../../getting-started/rest/scripting/tagging.html">Tagging</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrestscriptingcustomprocessinghtml" href="../../../getting-started/rest/scripting/customprocessing.html">Custom Processing</a>
            
            
        </li>
    </ul>
</ul>

            
            
        </li>
    </ul>
</ul>

            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedrunning_scriptsrunning-scriptshtml" href="../../../getting-started/running_scripts/running-scripts.html">Running Scripts In Nuix Workstation</a>
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedjava_enginejava-enginehtml" href="../../../getting-started/java_engine/java-engine.html">Using the Java Engine</a>
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../examples.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Nuix on GitHub</a>
    </li>
    <ul>
        <li class="collapse " id="exampleshtml">
            
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../tutorials.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials</a>
    </li>
    <ul>
        <li class="collapse " id="tutorialshtml">
            
            
            
        </li>
    </ul>
</ul>

            
            
            
            






<ul class="td-sidebar-nav__section pr-md-3">
    <li class="td-sidebar-nav__section-title">
        <a  href="../../../reference.html" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
    </li>
    <ul>
        <li class="collapse " id="referencehtml">
            
            
            
            
            
            
            <a class="td-sidebar-link td-sidebar-link__page " id="m-reference_openapihtml" href="../../../reference/_openapi.html">Open API Documentation</a>
            
            
        </li>
    </ul>
</ul>

            
            
        </li>
    </ul>
</ul>

    </nav>
</div>



      </div>
      <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
        











<nav id="TableOfContents">
  <ul>
    <li><a href="#clustering-concepts">Clustering Concepts</a>
      <ul>
        <li><a href="#server-tags">Server Tags</a></li>
      </ul>
    </li>
    <li><a href="#prerequisites-for-creating-a-cluster">Prerequisites for Creating a Cluster</a></li>
    <li><a href="#network-share-requirements">Network Share Requirements</a></li>
    <li><a href="#configuring-rest-instances">Configuring REST Instances</a></li>
    <li><a href="#viewing-the-cluster">Viewing the Cluster</a></li>
    <li><a href="#submitting-requests-to-the-cluster">Submitting Requests to the Cluster</a>
      <ul>
        <li><a href="#submitting-requests-with-server-tags">Submitting Requests with Server Tags</a></li>
      </ul>
    </li>
  </ul>
</nav>



      </div>
      <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
        <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="../../../getting-started.html">Getting Started</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../getting-started/rest.html">Nuix REST SDK</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../getting-started/rest/configuration.html">Configuration</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../getting-started/rest/configuration/clusteringsetup.html">Clustering</a>
</li>

	</ol>
</nav	>

        
<div class="td-content">
    <h1>Clustering</h1>
    <div class="lead">Set up clustering within your Nuix REST environment to distribute your processing workload.</div>
    <p>Nuix RESTful Service supports clustered installations to enable distributed workloads across multiple nodes within a cluster. When configured as a cluster, requests submitted to REST are managed and distributed across the cluster with no further action from the user.</p>
<h2 id="clustering-concepts">Clustering Concepts</h2>
<p>A clustered environment consists of two or more Nuix RESTful Service instances that have been configured to communicate and share data with each other over a network. Each instance represents a node within the cluster. Nodes are further classified by roles, which are defined during setup and determine what function the node can perform within the cluster. The following two roles are available.</p>
<ul>
<li><strong>Producer role</strong>: Nodes that are assigned the producer role function as the primary server (base URL) for all calls submitted to the API. Producer nodes are responsible for receiving incoming calls, queuing requests, processing non-cluster-enabled functions, and relaying results from across the cluster back to the user.</li>
<li><strong>Consumer role</strong>: Nodes that are assigned the consumer role are responsible for performing the cluster-enabled requests in the job queue based on the node&rsquo;s capacity and availability.</li>
</ul>
<p>As requests are submitted to the cluster, they are picked up and processed immediately. If the cluster is at capacity, the requests will instead be added to a queue and processed by the first consumer node that becomes available or gains additional capacity.</p>
<p>Consumer nodes can accept new requests if the following criteria are met:</p>
<ol>
<li>The request is for a cluster-enabled function.</li>
<li>The request can be performed immediately.</li>
<li>The case associated with a request is available to the node.</li>
<li>The node has capacity, which is defined by the following restrictions:
<ul>
<li><strong>Worker-based tasks</strong>: Limited to one request per node simultaneously.</li>
<li><strong>Non-worker-based tasks</strong>: Can perform multiple requests simultaneously.</li>
<li>Based on the resources available to the node, it may be capable of performing both types of requests simultaneously.</li>
</ul>
</li>
</ol>
<p>If any of the criteria cannot be met by a consumer node, the request will remain in the queue until another node within the cluster becomes available.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>
Communication between nodes is not encrypted by default.
</div>

<h3 id="server-tags">Server Tags</h3>
<p>To optimize and steer the distribution of requests throughout a cluster, server tags can be implemented to control the type of requests that are performed by specific nodes. Server tags are simple user-defined labels, such as <em>OCR</em> or <em>Worker-Based</em>, that are applied to consumer nodes during clustering setup.</p>
<p>Once configured, requests that are submitted with a specific server tag will be routed to and processed by a node that has a matching tag. Requests submitted without a tag will continue to be processed by the first available consumer node.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>
<p>Requests that are submitted with a server tag that does not exist within the cluster will never be processed.</p>
<p>To identify server tags that exist within the cluster before submitting a request, see <a href="#viewing-the-cluster">Viewing the Cluster</a>.</p>

</div>

<p>The practice of server tagging can be beneficial if trying to prioritize calls that are submitted to the API. For instance, separating worker-based requests from non-worker-based requests. Functions that require workers, such as ingestion, OCR, and exports can often be long running resource intensive processes. By using server tags, these types of requests can be steered towards dedicated nodes within the cluster that are better provisioned to handle these types of jobs.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Tip</h4>
Nodes that have been configured with server tags are not restricted from processing untagged requests. If a request is submitted to the cluster and a tagged node is the first available node to meet all criteria required to accept a request, it will do so.
</div>

<h2 id="prerequisites-for-creating-a-cluster">Prerequisites for Creating a Cluster</h2>
<p>To set up a Nuix RESTful Service clustered environment, the following prerequisites must be addressed.</p>
<ul>
<li>Two or more installed instances of Nuix RESTful Service.
<ul>
<li>The IP addresses of all nodes included in the cluster must be known to complete the following configurations.</li>
</ul>
</li>
<li>Access to Nuix Licensing using any of the following options:
<ul>
<li><a href="../configuration/licenseconfiguration.html#updating-nms-connections">Nuix Management Server (NMS)</a></li>
<li><a href="../configuration/licenseconfiguration.html#connecting-to-nuix-cloud-license-server-cls">Nuix Cloud License Server (CLS)</a></li>
</ul>
</li>
<li>Networked file storage for shared resources.</li>
<li>Elasticsearch v7.8.1</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Important</h4>
Only Elasticsearch based cases are supported within clustered environments.
</div>

<h2 id="network-share-requirements">Network Share Requirements</h2>
<p>Clustering requires the use of networked file storage to ensure all nodes within the cluster have access to the same data. Before you begin, ensure that a network file share is available and accessible from all nodes included in the Nuix RESTful Service cluster.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>
The location of all network shares must be accessible using UNC paths.
</div>

<p>The following directories must be created and configured as individual network shares:</p>
<table>
<thead>
<tr>
<th>Share Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>source data/</code></td>
<td>Location to store raw evidence that has not yet been processed into a case.</td>
</tr>
<tr>
<td><code>cases/</code></td>
<td>An Elasticsearch based inventory location where cases are created and stored.</td>
</tr>
<tr>
<td><code>user-data/</code></td>
<td>Location to store artifacts and profiles that are used when processing evidence.<br> The <code>user-data</code> directory is comprised of the following sub-directories that each<br> store a different type of artifact.<br><br> <strong>Tip</strong>: Create only the subdirectories that will be used in your workflows.<br><br><code>|--Digest Lists/</code><br> <code>|--Imaging Profiles/</code><br> <code>|--OCR Profiles/</code><br> <code>|--Processing Profiles/</code><br> <code>|--Production Profiles/</code><br> <code>|--Reports/</code><br> <code>|--Shingle Lists/</code><br> <code>|--Word Lists/</code></td>
</tr>
<tr>
<td><code>exports/</code></td>
<td>Location to store exports generated by Nuix RESTful Service.</td>
</tr>
<tr>
<td><code>thumbnails/</code></td>
<td>Location to store thumbnails that are generated within a case.</td>
</tr>
<tr>
<td><code>scripts/</code></td>
<td>Location to store user-generated scripts for use with Nuix RESTful Service.</td>
</tr>
</tbody>
</table>
<h2 id="configuring-rest-instances">Configuring REST Instances</h2>
<p>After all prerequisites have been addressed, use the following procedure to set up a clustered Nuix RESTful Service environment.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>
This procedure must be performed on each node within the cluster.
</div>

<ol>
<li>Ensure that the instance of Nuix RESTful Service being modified has been stopped.</li>
<li>Navigate to the settings directory within the Nuix RESTful Service installation.
<ul>
<li><strong>Windows</strong>: <code>&lt;InstalDir&gt;/Nuix/Nuix RESTful Service/settings</code></li>
<li><strong>Linux</strong>: <code>/opt/nuix-restful-service/settings</code></li>
</ul>
</li>
<li>Open the <code>application.properties</code> file within a text editor.</li>
<li>Modify the file by configuring the following properties to enable clustering and identify the role of the node within the cluster.
<ol>
<li>
<p>Enable the node to participate in the cluster by adding the following property:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cluster.enabled<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</code></pre></div></li>
<li>
<p>Add one of the following properties to specify the node&rsquo;s role within the cluster:</p>
<ul>
<li><strong>Producer role</strong>: The primary server for all calls submitted to the API. Producer nodes are responsible for receiving incoming calls, queuing requests, and relaying results from across the cluster back to the user.</li>
<li><strong>Consumer role</strong>: Consumer nodes are responsible for performing the queued requests based on the node&rsquo;s availability.</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cluster.role.producer<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
cluster.role.consumer<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</code></pre></div>

<div class="alert alert-primary" role="alert">

<strong>Note</strong>: The cluster must contain at least one producer and consumer node.
</div>

</li>
<li>
<p>Optionally, define a server tag that can be used to steer requests to this specific node.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">server.tags<span style="color:#ce5c00;font-weight:bold">=</span>Worker-based
</code></pre></div><p>If the node is expected to receive multiple types of requests, a comma separated list of tags can also be defined:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">server.tags<span style="color:#ce5c00;font-weight:bold">=</span>Worker-based,OCR,Export
</code></pre></div></li>
<li>
<p>Update the values of the following existing properties to reflect the UNC paths of the network share locations that were previously created .</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#000">exportsFolder</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">\\</span>10.130.138.177<span style="color:#4e9a06">\e</span>xports
<span style="color:#000">inventoryLocations</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">\\</span>10.130.138.177<span style="color:#4e9a06">\c</span>ases
<span style="color:#000">searchThumbnailsExportDirectory</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">\\</span>10.130.138.177<span style="color:#4e9a06">\t</span>humbnails
<span style="color:#000">userScriptsLocation</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">\\</span>10.130.138.177<span style="color:#4e9a06">\s</span>cripts<span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>nuix.engine.userDataDirs<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">\\</span>10.130.138.177<span style="color:#4e9a06">\u</span>ser-data<span style="color:#4e9a06">\
</span></code></pre></div></li>
<li>
<p>Add the following property to identify nodes within the cluster. Provide a comma-separated list of IP addresses that represent all nodes included within the cluster.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#000">hazelcastTcpIpMembers</span><span style="color:#ce5c00;font-weight:bold">=</span>&lt;IPofNode1&gt;,&lt;IPofNode2&gt;,&lt;IPofNode3&gt;
</code></pre></div></li>
<li>
<p>Verify that the <code>publicURL</code> property is set to an address that is accessible from all other nodes within the cluster.</p>
</li>
</ol>
</li>
<li>Save and exit the file.</li>
<li>Restart Nuix RESTful Service.</li>
<li>Repeat this procedure until all nodes within the cluster have been configured.</li>
</ol>
<h2 id="viewing-the-cluster">Viewing the Cluster</h2>
<p>After all nodes within your environment have been configured for clustering, you can check your cluster by submitting a <strong>GET</strong> request to the <code>/cluster</code> endpoint. This request should be submitted to a node within the cluster that has been configured with the producer role.</p>
<p><strong>cURL</strong></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">curl -L -X GET <span style="color:#4e9a06">&#39;http://10.30.100.58:8080/nuix-restful-service/svc/v1/cluster&#39;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-H <span style="color:#4e9a06">&#39;nuix-auth-token: 49e225d7-b88d-4d1b-9cbc-296e83706a60&#39;</span>
</code></pre></div><p>After submitting the request, details about each available node are returned, including:</p>
<ul>
<li>The name and location of the node.</li>
<li>The port where the node is operating.</li>
<li>Any server tags associated with the node.</li>
<li>A unique server GUID, useful for identifying a specific node.</li>
</ul>
<p><strong>Response</strong></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#34;nodes&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
        <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#4e9a06">&#34;hostAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;192.168.7.32&#34;</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;hostName&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;node01.nuix.com&#34;</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;port&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5601</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;details&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
                <span style="color:#4e9a06">&#34;serverId&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;637edbff-3e1c-4f63-921e-da022a763fbf&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;publicURL&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://10.30.100.58:8080&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;REST-Node-1&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;tags&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">OCR</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">Export</span><span style="color:#000;font-weight:bold">],</span>
                <span style="color:#4e9a06">&#34;guid&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;210ee909-3cdf-3f3a-b973-2cf4d7c7aea2&#34;</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">},</span>
                <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#4e9a06">&#34;hostAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;192.168.7.12&#34;</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;hostName&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;node02.nuix.com&#34;</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;port&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5602</span><span style="color:#000;font-weight:bold">,</span>
            <span style="color:#4e9a06">&#34;details&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
                <span style="color:#4e9a06">&#34;serverId&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;432iunff-5h1a-8j67-738b-ic9344f643unf&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;publicURL&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://10.30.100.83:8080&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;REST-Node-2&#34;</span><span style="color:#000;font-weight:bold">,</span>
                <span style="color:#4e9a06">&#34;tags&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">Worker</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">based</span><span style="color:#000;font-weight:bold">],</span>
                <span style="color:#4e9a06">&#34;guid&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;468uj828-7uct-6h1s-m878-5hg5d9v6ema1&#34;</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">]</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h2 id="submitting-requests-to-the-cluster">Submitting Requests to the Cluster</h2>
<p>When operating within a clustered Nuix RESTful Service environment, the process of submitting requests is no different from interacting with a single instance of Nuix REST.</p>
<p>To get started, you need to know the location of a node within the cluster that has been designated as a <em>Producer</em>. If multiple producers are available, any one can be used. Once identified, all calls to the cluster should be made to that node.</p>
<p>After a request is received, if the call is for a cluster-enabled function, the request will be added to the queue for the first available consumer node to pick up. If the call is for a non-cluster-enabled function, the producer node will simply perform the request itself.</p>
<p>Cluster-enabled functions are those that can be run asynchronously by any consumer node within the cluster. These functions are identified within the embedded API reference documentation (<a href="http://localhost:8080/nuix-restful-service/svc/docs">localhost:8080/nuix-restful-service/svc/docs</a>) using the <strong>Cluster Enabled Operation</strong> label.</p>
<p><img src="../../../images/clusterEnabledOperationLabel.png" alt=""></p>
<h3 id="submitting-requests-with-server-tags">Submitting Requests with Server Tags</h3>
<p>If server tags have been implemented within your cluster, you can use them in your calls by defining the following RAW data in the body of your requests.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">--data-raw 
<span style="color:#4e9a06">&#39;{
</span><span style="color:#4e9a06">  &#34;restClusterSettings&#34;: {
</span><span style="color:#4e9a06">      &#34;nodeTags&#34;: {
</span><span style="color:#4e9a06">          &#34;defaultTags&#34;: [&#34;Worker-based&#34;]
</span><span style="color:#4e9a06">      }
</span><span style="color:#4e9a06">  },
</span><span style="color:#4e9a06">}&#39;</span>
</code></pre></div>
    
    
    <div class="text-muted mt-5 pt-3 border-top">Last modified February 23, 2021
</div>
</div>

      </main>
    </div>
  </div>
  
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://www.twitter.com/nuix">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" href="https://stackoverflow.com/jobs/companies/nuix">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/NuixSoftware">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Community Help Forums" aria-label="Community Help Forums">
    <a class="text-white" target="_blank" href="https://forums.nuix.com/">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 Nuix All Rights Reserved</small>
        <small class="ml-1"><a href="https://www.nuix.com/privacy-policy" target="_blank">Privacy Policy</a></small>
	
		<p class="mt-2"><a href="../../../getting-started/rest/introduction/about.html">Part 1: Verifying your Installation</a></p>
	
      </div>
    </div>
  </div>
</footer>


</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="../../../js/main.min.664f21bf5eb0c31ebc661e2616e6c63e0448cec6d5636d869957be423c3cb952.js" integrity="sha256-Zk8hv16wwx68Zh4mFubGPgRIzsbVY22GmVe&#43;Qjw8uVI=" crossorigin="anonymous"></script>



</body>
</html>